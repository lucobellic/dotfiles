(include "./widgets/modern-clock/eww.yuck")
(include "./widgets/system-tray/eww.yuck")
(include "./widgets/audio/eww.yuck")
(include "./widgets/cpu-cores-monitor/eww.yuck")

(defwindow modern-clock [?screen ?stacking]
  :monitor {screen ?: 0}
  :geometry (geometry :x "0%"
                      :y "2%"
                      :anchor "center top")
  :stacking {stacking ?: "bottom"}
  :windowtype "desktop"
  :wm-ignore true
  :decorated false
  :transparent true
  (modern-clock
    :show_day true
    :show_date true
    :show_time true
    :use_24_hour_format true
    :time_character "-"
  )
)

(defwindow microphone [?screen ?stacking]
  :monitor {screen ?: 0}
  :geometry (geometry :x "1%"
                      :y "10px"
                      :anchor "bottom right")
  :stacking {stacking ?: "bottom"}
  :windowtype "desktop"
  :wm-ignore true
  :decorated false
  :transparent true
  (microphone-widget)
)

(defwindow speaker [?screen ?stacking]
  :monitor {screen ?: 0}
  :geometry (geometry :x "1%"
                      :y "38px"
                      :anchor "bottom right")
  :stacking {stacking ?: "bottom"}
  :windowtype "desktop"
  :wm-ignore true
  :decorated false
  :transparent true
  (speaker-widget)
)

(defwindow cpu-cores [?screen ?stacking]
  :monitor {screen ?: 0}
  :geometry (geometry :x "0%"
                      :y "13px"
                      :anchor "bottom center")
  :stacking {stacking ?: "bottom"}
  :windowtype "desktop"
  :wm-ignore true
  :decorated false
  :transparent true
  (cpu-cores-monitor
   :display_usage true
   :display_temperature true
  )
)

(defwindow system-tray [?screen ?stacking]
  :monitor {screen ?: 0}
  :geometry (geometry :x "1%"
                      :y "13px"
                      :anchor "bottom left")
  :stacking {stacking ?: "bottom"}
  :windowtype "desktop"
  :wm-ignore false
  :decorated false
  :transparent true
  (system-monitors)
)
